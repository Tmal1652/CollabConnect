<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
	<title>CollabConnect Mobile (Mock)</title>
	<meta name="description" content="Mobile-first mock: swipeable collaboration feed." />
	<meta name="theme-color" content="#0b1323" media="(prefers-color-scheme: dark)">
	<meta name="theme-color" content="#f7f9fc" media="(prefers-color-scheme: light)">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet" />
	<link rel="manifest" href="manifest.json" />
	<link rel="apple-touch-icon" href="icons/icon-192.png" />
	<style>
		:root { --m-tabbar-h: 64px; --m-pad: 16px; }
		html, body { height: 100%; }
		body.m-body { margin: 0; background: #0b1323; color: #e9edf6; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
		a { color: inherit; text-decoration: none; }
		/* App shell */
		.m-app { position: fixed; inset: 0; display: grid; grid-template-rows: 1fr auto; }
		.m-feed { position: relative; overflow-y: auto; scroll-snap-type: y mandatory; -webkit-overflow-scrolling: touch; }
		.m-card { position: relative; display: grid; grid-template-rows: 1fr auto; min-height: 100vh; scroll-snap-align: start; background: #0d152a center/cover no-repeat; isolation: isolate; }
		.m-bg { position: absolute; inset: 0; background: radial-gradient(1200px 600px at 70% 0%, rgb(39 89 190 / 60%), transparent), linear-gradient(180deg, rgb(10 15 28 / 60%), rgb(10 15 28 / 90%)); z-index: 0; }
		.m-card.has-img { background-image: url('image.webp'); }
		.m-content { position: relative; z-index: 1; display: grid; align-content: end; padding: calc(var(--m-pad) * 2) var(--m-pad) calc(var(--m-tabbar-h) + var(--m-pad)); gap: 10px; }
		.m-head { display: flex; align-items: center; gap: 10px; }
		.m-ava { width: 44px; height: 44px; border-radius: 10px; display: grid; place-items: center; color: #fff; font-weight: 700; background: hsl(var(--h,210) 70% 45%); box-shadow: 0 3px 16px rgb(0 0 0 / 25%); }
		.m-meta { display: grid; line-height: 1.15; }
		.m-name { font-weight: 600; }
		.m-tag { opacity: 0.9; font-size: 13px; }
		.m-text { font-size: 18px; font-weight: 500; }
		/* Right action rail */
		.m-actions { position: absolute; right: 10px; bottom: calc(var(--m-tabbar-h) + 16px); z-index: 2; display: grid; gap: 14px; }
		.m-act { width: 52px; height: 52px; border-radius: 16px; background: rgb(255 255 255 / 10%); backdrop-filter: blur(10px); border: 1px solid rgb(255 255 255 / 12%); color: #fff; display: grid; place-items: center; font-size: 20px; }
		.m-count { font-size: 12px; text-align: center; opacity: 0.9; margin-top: 4px; }
		/* Tab bar */
			.m-tabbar { position: sticky; bottom: 0; min-height: var(--m-tabbar-h); display: grid; grid-template-columns: repeat(5, minmax(60px, 1fr)); justify-items: center; align-items: center; gap: 6px; padding: 6px 8px calc(6px + env(safe-area-inset-bottom)); box-sizing: border-box; backdrop-filter: blur(12px); background: rgb(8 12 22 / 72%); border-top: 1px solid rgb(255 255 255 / 8%); z-index: 10; }
			.m-tab, .m-post { appearance: none; background: none; border: 0; color: #dfe7ff; height: 100%; display: grid; place-items: center; gap: 4px; font-size: 12px; padding: 4px 6px; min-width: 60px; white-space: nowrap; }
		.m-tab.active { color: #fff; font-weight: 600; }
		.m-ico { font-size: 18px; }
			.m-post { width: 52px; height: 52px; margin: 0 auto; border-radius: 16px; background: linear-gradient(180deg, #4f8bff, #7f5cff); color: #fff; box-shadow: 0 8px 24px rgb(63 99 225 / 45%); font-size: 24px; }
			@media (max-width: 380px){
				.m-lab { display: none; }
				.m-ico { font-size: 20px; }
				.m-tabbar { grid-template-columns: repeat(5, minmax(48px, 1fr)); }
				.m-tab, .m-post { min-width: 48px; }
			}
		/* Modal */
		.m-modal[aria-hidden="true"] { display: none; }
		.m-modal { position: fixed; inset: 0; background: rgb(7 10 20 / 65%); display: grid; place-items: end center; padding: 16px; z-index: 20; }
		.m-modal-content { width: 100%; max-width: 720px; background: #0e1426; border: 1px solid rgb(255 255 255 / 10%); border-radius: 18px 18px 0 0; box-shadow: 0 -12px 32px rgb(0 0 0 / 35%); padding: 16px; }
		.m-modal-head { display: flex; align-items: center; justify-content: space-between; }
		.m-close { appearance: none; background: none; border: 0; color: #cfd7ff; font-size: 24px; }
		.m-compose { display: grid; gap: 10px; margin-top: 8px; }
		.m-label { font-size: 13px; opacity: 0.85; }
		.m-compose textarea, .m-compose input { width: 100%; border-radius: 12px; border: 1px solid rgb(255 255 255 / 14%); background: rgb(255 255 255 / 06%); color: #eef2ff; padding: 10px 12px; font: inherit; }
		.auth-btn { border-radius: 12px; background: linear-gradient(180deg, #5e8fff, #8e61ff); color: #fff; border: 0; padding: 10px 14px; font-weight: 600; }
		/* A11y */
		.sr-only { position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; clip: rect(0 0 0 0); border: 0; }
		/* Desktop preview */
		@media (min-width: 800px){ .m-app { max-width: 420px; margin: 0 auto; border: 1px solid rgb(255 255 255 / 10%); border-radius: 18px; overflow: hidden; box-shadow: 0 40px 120px rgb(0 0 0 / 40%);} }
	</style>
	<script src="mobile/auth.js" defer></script>
</head>
<body class="m-body">
	<main id="mApp" class="m-app" aria-label="Mobile App">
		<section id="mFeed" class="m-feed" aria-label="Swipe feed" tabindex="0"></section>

		<nav class="m-tabbar" aria-label="Primary">
			<a class="m-tab active" data-nav="feed" aria-current="page" aria-label="Feed" href="#">
				<span class="m-ico" aria-hidden="true">üè†</span>
				<span class="m-lab">Feed</span>
			</a>
			<a class="m-tab" data-nav="projects" href="projects.html" aria-label="Projects">
				<span class="m-ico" aria-hidden="true">üìÅ</span>
				<span class="m-lab">Projects</span>
			</a>
			<button class="m-post" id="mComposeBtn" aria-label="Create post">Ôºã</button>
			<a class="m-tab" data-nav="inbox" href="#" aria-label="Inbox">
				<span class="m-ico" aria-hidden="true">üì•</span>
				<span class="m-lab">Inbox</span>
			</a>
			<a class="m-tab" data-nav="profile" href="profile.html" aria-label="Profile">
				<span class="m-ico" aria-hidden="true">üë§</span>
				<span class="m-lab">Profile</span>
			</a>
		</nav>

		<!-- Composer Modal -->
		<div id="mComposer" class="m-modal" role="dialog" aria-modal="true" aria-labelledby="mComposerTitle" aria-hidden="true">
			<div class="m-modal-content">
				<header class="m-modal-head">
					<h2 id="mComposerTitle">New Update</h2>
					<button class="m-close" id="mCloseCompose" aria-label="Close">√ó</button>
				</header>
				<form id="mComposeForm" class="m-compose">
					<label for="mText" class="m-label">What are you working on?</label>
					<textarea id="mText" name="text" rows="4" maxlength="200" placeholder="Short update..." required></textarea>
					<div class="m-row">
						<label for="mTag" class="m-label">Tag</label>
						<input id="mTag" name="tag" type="text" placeholder="e.g. Design, Dev" />
					</div>
					<div class="m-row">
						<label for="mProject" class="m-label">Project</label>
						<input id="mProject" name="project" type="text" placeholder="Optional project name" />
					</div>
					<button type="submit" class="auth-btn">Post</button>
				</form>
			</div>
		</div>
	</main>

	<script src="mobile/app.js" defer></script>
	<script>
		if ('serviceWorker' in navigator) {
			window.addEventListener('load', () => {
				navigator.serviceWorker.register('sw.js').catch(()=>{});
			});
		}
	</script>
</body>
</html>
